<h2>Ticket ID: {{ ticket.ticket_id }}</h2>
<p>Status: {{ ticket.status }}</p>
<p>Issue: {{ ticket.issue }}</p>

<h3>AI Suggested Steps:</h3>

<div id="ai-box">
  {% if ai_response %}
    <p>{{ ai_response }}</p>
  {% else %}
    <p id="loading-msg">ğŸ§  The assistant is thinking... please wait.</p>
  {% endif %}
</div>

<a href="/">Back to Home</a>

<script>
  // Optional: add animation or delay refresh here later
  const loading = document.getElementById("loading-msg");
  if (loading) {
    // You could add animation, dots, etc.
    let dots = 0;
    setInterval(() => {
      dots = (dots + 1) % 4;
      loading.textContent = "ğŸ§  The assistant is thinking" + ".".repeat(dots);
    }, 500);
  }
</script>
